FROM node:alpine

RUN apk add tzdata --update --no-cache && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo "Asia/Shanghai" /etc/localtime && apk del tzdata

RUN apk add --no-cache python make g++ git

RUN mkdir /brickyard-app

WORKDIR /brickyard-app

RUN npm i -g npm@4

RUN npm i node-sass fibers

RUN npm i -g --production brickyard-cli@5.0.1

CMD ["brickyard"]
